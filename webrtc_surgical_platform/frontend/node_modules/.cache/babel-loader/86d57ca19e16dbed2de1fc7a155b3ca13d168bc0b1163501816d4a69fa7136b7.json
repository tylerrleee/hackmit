{"ast":null,"code":"var _jsxFileName = \"/Users/tienle/Documents/Coding/hackmit/webrtc_surgical_platform/frontend/src/components/RoomVideoConsultation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport ARVideoConsultation from './ARVideoConsultation';\nimport externalConfig from '../config/externalConfig';\nimport './RoomVideoConsultation.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RoomVideoConsultation = ({\n  roomId,\n  userToken,\n  user,\n  onLeaveRoom,\n  onError\n}) => {\n  _s();\n  var _roomInfo$metadata;\n  // Room state management\n  const [roomInfo, setRoomInfo] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [connectionStatus, setConnectionStatus] = useState('connecting');\n  const [participants, setParticipants] = useState([]);\n  const [roomError, setRoomError] = useState(null);\n\n  // Video consultation state\n  const [isVideoCallActive, setIsVideoCallActive] = useState(false);\n  const [localVideoEnabled, setLocalVideoEnabled] = useState(true);\n  const [localAudioEnabled, setLocalAudioEnabled] = useState(true);\n\n  // Room management\n  const [showRoomSettings, setShowRoomSettings] = useState(false);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n\n  // Initialize room and fetch room information\n  useEffect(() => {\n    if (roomId && userToken) {\n      initializeRoom();\n    }\n  }, [roomId, userToken]);\n  const initializeRoom = async () => {\n    try {\n      setIsLoading(true);\n\n      // Fetch room information from backend\n      const response = await fetch(`${externalConfig.getApiUrl()}/api/rooms/${roomId}`, {\n        headers: {\n          'Authorization': `Bearer ${userToken}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to fetch room info: ${response.statusText}`);\n      }\n      const roomData = await response.json();\n      setRoomInfo(roomData.room);\n      setConnectionStatus('connected');\n    } catch (error) {\n      console.error('Failed to initialize room:', error);\n      setRoomError(error.message);\n      setConnectionStatus('error');\n      onError === null || onError === void 0 ? void 0 : onError(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleConnectionChange = status => {\n    setConnectionStatus(status);\n  };\n  const handleVideoCallToggle = async () => {\n    try {\n      if (!isVideoCallActive) {\n        // Start video call - connect to field medic\n        console.log('üé• Starting video call with field medic...');\n        setIsVideoCallActive(true);\n        await startFieldMedicConnection();\n      } else {\n        // End video call\n        console.log('üìµ Ending video call with field medic...');\n        setIsVideoCallActive(false);\n        await endFieldMedicConnection();\n      }\n    } catch (error) {\n      console.error('Error toggling video call:', error);\n      onError === null || onError === void 0 ? void 0 : onError('Failed to toggle video call: ' + error.message);\n    }\n  };\n  const startFieldMedicConnection = async () => {\n    try {\n      // Send start video call command to bridge via backend API\n      const response = await fetch(`${externalConfig.getApiUrl()}/api/video-call/start`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${userToken}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          roomId: roomId,\n          surgeonId: user === null || user === void 0 ? void 0 : user.id,\n          requestFieldMedic: true\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to start video call: ${response.statusText}`);\n      }\n      const result = await response.json();\n      console.log('‚úÖ Video call start request sent:', result);\n\n      // Update connection status\n      setConnectionStatus('connecting_video');\n      return result;\n    } catch (error) {\n      console.error('Failed to start field medic connection:', error);\n      setIsVideoCallActive(false);\n      throw error;\n    }\n  };\n  const endFieldMedicConnection = async () => {\n    try {\n      // Send end video call command to bridge via backend API\n      const response = await fetch(`${externalConfig.getApiUrl()}/api/video-call/end`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${userToken}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          roomId: roomId,\n          surgeonId: user === null || user === void 0 ? void 0 : user.id\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to end video call: ${response.statusText}`);\n      }\n      const result = await response.json();\n      console.log('‚úÖ Video call end request sent:', result);\n\n      // Reset connection status\n      setConnectionStatus('connected');\n      return result;\n    } catch (error) {\n      console.error('Failed to end field medic connection:', error);\n      throw error;\n    }\n  };\n  const handleLocalVideoToggle = () => {\n    setLocalVideoEnabled(!localVideoEnabled);\n  };\n  const handleLocalAudioToggle = () => {\n    setLocalAudioEnabled(!localAudioEnabled);\n  };\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (newMessage.trim()) {\n      const message = {\n        id: Date.now(),\n        user: user.name,\n        text: newMessage,\n        timestamp: new Date().toISOString()\n      };\n      setChatMessages([...chatMessages, message]);\n      setNewMessage('');\n    }\n  };\n  const handleLeaveRoom = () => {\n    if (onLeaveRoom) {\n      onLeaveRoom();\n    }\n  };\n\n  // Loading state\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"room-video-consultation loading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Connecting to room...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Error state\n  if (roomError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"room-video-consultation error\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u274C Room Connection Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: roomError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: initializeRoom,\n            className: \"btn-primary\",\n            children: \"Retry Connection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLeaveRoom,\n            className: \"btn-secondary\",\n            children: \"Leave Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"room-video-consultation\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"room-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"room-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\uD83C\\uDFE5 \", (roomInfo === null || roomInfo === void 0 ? void 0 : roomInfo.type) === 'ar-consultation' ? 'AR Surgery Consultation' : 'Video Consultation']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"room-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"room-id\",\n            children: [\"Room: \", roomId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `connection-status ${connectionStatus}`,\n            children: [connectionStatus === 'connected' && 'üü¢ Connected', connectionStatus === 'connecting' && 'üü° Connecting', connectionStatus === 'connecting_video' && 'üìπ Connecting to Field Medic', connectionStatus === 'video_active' && 'üé• Live Video Call', connectionStatus === 'error' && 'üî¥ Connection Error']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"room-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `control-btn ${isVideoCallActive ? 'active' : ''}`,\n          onClick: handleVideoCallToggle,\n          title: \"Toggle Video Call\",\n          children: isVideoCallActive ? 'üìπ End Call' : 'üìπ Start Video'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => setShowRoomSettings(!showRoomSettings),\n          title: \"Room Settings\",\n          children: \"\\u2699\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn leave-btn\",\n          onClick: handleLeaveRoom,\n          title: \"Leave Room\",\n          children: \"\\uD83D\\uDEAA Leave\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"room-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-area\",\n        children: isVideoCallActive ? /*#__PURE__*/_jsxDEV(ARVideoConsultation, {\n          roomId: roomId,\n          userToken: userToken,\n          user: user,\n          userRole: user.role,\n          onError: error => setRoomError(error),\n          onConnectionChange: handleConnectionChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-placeholder\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"placeholder-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCF9 Video Consultation Ready\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Click \\\"Start Video\\\" to begin the AR-enabled video consultation with real-time annotation capabilities.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pre-call-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `control-btn ${localVideoEnabled ? 'enabled' : 'disabled'}`,\n                onClick: handleLocalVideoToggle,\n                children: localVideoEnabled ? 'üìπ Video On' : 'üìπ Video Off'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `control-btn ${localAudioEnabled ? 'enabled' : 'disabled'}`,\n                onClick: handleLocalAudioToggle,\n                children: localAudioEnabled ? 'üé§ Mic On' : 'üé§ Mic Off'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"control-btn primary start-call-btn\",\n                onClick: handleVideoCallToggle,\n                children: \"\\uD83D\\uDE80 Start Video Call\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 33\n            }, this), roomInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"room-metadata\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Room Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"metadata-grid\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"metadata-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Type:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 49\n                  }, this), \" \", roomInfo.type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"metadata-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Created:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 49\n                  }, this), \" \", new Date(roomInfo.createdAt).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"metadata-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Participants:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 49\n                  }, this), \" \", roomInfo.participantCount || 0, \"/\", roomInfo.maxParticipants || 10]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 45\n                }, this), ((_roomInfo$metadata = roomInfo.metadata) === null || _roomInfo$metadata === void 0 ? void 0 : _roomInfo$metadata.medicalSpecialty) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"metadata-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Specialty:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 53\n                  }, this), \" \", roomInfo.metadata.medicalSpecialty]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"room-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"participants-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"\\uD83D\\uDC65 Participants (\", participants.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"participants-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"participant self\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"participant-avatar\",\n                children: user.name.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"participant-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"participant-name\",\n                  children: [user.name, \" (You)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"participant-role\",\n                  children: user.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"participant-status\",\n                children: \"\\uD83D\\uDFE2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 29\n            }, this), participants.map(participant => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"participant\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"participant-avatar\",\n                children: participant.name.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"participant-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"participant-name\",\n                  children: participant.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"participant-role\",\n                  children: participant.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"participant-status\",\n                children: participant.connected ? 'üü¢' : 'üî¥'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 37\n              }, this)]\n            }, participant.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDCAC Room Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-messages\",\n            children: chatMessages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-message\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-user\",\n                  children: message.user\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-time\",\n                  children: new Date(message.timestamp).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-text\",\n                children: message.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 37\n              }, this)]\n            }, message.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSendMessage,\n            className: \"chat-input-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newMessage,\n              onChange: e => setNewMessage(e.target.value),\n              placeholder: \"Type a message...\",\n              className: \"chat-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"send-btn\",\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }, this), showRoomSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"room-settings-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        onClick: () => setShowRoomSettings(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Room Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settings-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Audio & Video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: localVideoEnabled,\n                  onChange: handleLocalVideoToggle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 41\n                }, this), \"Enable Video\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: localAudioEnabled,\n                  onChange: handleLocalAudioToggle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 41\n                }, this), \"Enable Audio\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settings-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowRoomSettings(false),\n              className: \"btn-secondary\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 9\n  }, this);\n};\n_s(RoomVideoConsultation, \"MsCLDW9kg/flGPBl5rEaAITh8sk=\");\n_c = RoomVideoConsultation;\nexport default RoomVideoConsultation;\nvar _c;\n$RefreshReg$(_c, \"RoomVideoConsultation\");","map":{"version":3,"names":["React","useState","useEffect","useRef","ARVideoConsultation","externalConfig","jsxDEV","_jsxDEV","RoomVideoConsultation","roomId","userToken","user","onLeaveRoom","onError","_s","_roomInfo$metadata","roomInfo","setRoomInfo","isLoading","setIsLoading","connectionStatus","setConnectionStatus","participants","setParticipants","roomError","setRoomError","isVideoCallActive","setIsVideoCallActive","localVideoEnabled","setLocalVideoEnabled","localAudioEnabled","setLocalAudioEnabled","showRoomSettings","setShowRoomSettings","chatMessages","setChatMessages","newMessage","setNewMessage","initializeRoom","response","fetch","getApiUrl","headers","ok","Error","statusText","roomData","json","room","error","console","message","handleConnectionChange","status","handleVideoCallToggle","log","startFieldMedicConnection","endFieldMedicConnection","method","body","JSON","stringify","surgeonId","id","requestFieldMedic","result","handleLocalVideoToggle","handleLocalAudioToggle","handleSendMessage","e","preventDefault","trim","Date","now","name","text","timestamp","toISOString","handleLeaveRoom","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","title","userRole","role","onConnectionChange","createdAt","toLocaleString","participantCount","maxParticipants","metadata","medicalSpecialty","length","charAt","map","participant","connected","toLocaleTimeString","onSubmit","value","onChange","target","placeholder","stopPropagation","checked","_c","$RefreshReg$"],"sources":["/Users/tienle/Documents/Coding/hackmit/webrtc_surgical_platform/frontend/src/components/RoomVideoConsultation.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport ARVideoConsultation from './ARVideoConsultation';\nimport externalConfig from '../config/externalConfig';\nimport './RoomVideoConsultation.css';\n\nconst RoomVideoConsultation = ({ \n    roomId, \n    userToken, \n    user,\n    onLeaveRoom,\n    onError \n}) => {\n    // Room state management\n    const [roomInfo, setRoomInfo] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [connectionStatus, setConnectionStatus] = useState('connecting');\n    const [participants, setParticipants] = useState([]);\n    const [roomError, setRoomError] = useState(null);\n    \n    // Video consultation state\n    const [isVideoCallActive, setIsVideoCallActive] = useState(false);\n    const [localVideoEnabled, setLocalVideoEnabled] = useState(true);\n    const [localAudioEnabled, setLocalAudioEnabled] = useState(true);\n    \n    // Room management\n    const [showRoomSettings, setShowRoomSettings] = useState(false);\n    const [chatMessages, setChatMessages] = useState([]);\n    const [newMessage, setNewMessage] = useState('');\n\n    // Initialize room and fetch room information\n    useEffect(() => {\n        if (roomId && userToken) {\n            initializeRoom();\n        }\n    }, [roomId, userToken]);\n\n    const initializeRoom = async () => {\n        try {\n            setIsLoading(true);\n            \n            // Fetch room information from backend\n            const response = await fetch(`${externalConfig.getApiUrl()}/api/rooms/${roomId}`, {\n                headers: {\n                    'Authorization': `Bearer ${userToken}`,\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to fetch room info: ${response.statusText}`);\n            }\n\n            const roomData = await response.json();\n            setRoomInfo(roomData.room);\n            setConnectionStatus('connected');\n            \n        } catch (error) {\n            console.error('Failed to initialize room:', error);\n            setRoomError(error.message);\n            setConnectionStatus('error');\n            onError?.(error.message);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const handleConnectionChange = (status) => {\n        setConnectionStatus(status);\n    };\n\n    const handleVideoCallToggle = async () => {\n        try {\n            if (!isVideoCallActive) {\n                // Start video call - connect to field medic\n                console.log('üé• Starting video call with field medic...');\n                setIsVideoCallActive(true);\n                await startFieldMedicConnection();\n            } else {\n                // End video call\n                console.log('üìµ Ending video call with field medic...');\n                setIsVideoCallActive(false);\n                await endFieldMedicConnection();\n            }\n        } catch (error) {\n            console.error('Error toggling video call:', error);\n            onError?.('Failed to toggle video call: ' + error.message);\n        }\n    };\n    \n    const startFieldMedicConnection = async () => {\n        try {\n            // Send start video call command to bridge via backend API\n            const response = await fetch(`${externalConfig.getApiUrl()}/api/video-call/start`, {\n                method: 'POST',\n                headers: {\n                    'Authorization': `Bearer ${userToken}`,\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    roomId: roomId,\n                    surgeonId: user?.id,\n                    requestFieldMedic: true\n                })\n            });\n            \n            if (!response.ok) {\n                throw new Error(`Failed to start video call: ${response.statusText}`);\n            }\n            \n            const result = await response.json();\n            console.log('‚úÖ Video call start request sent:', result);\n            \n            // Update connection status\n            setConnectionStatus('connecting_video');\n            \n            return result;\n            \n        } catch (error) {\n            console.error('Failed to start field medic connection:', error);\n            setIsVideoCallActive(false);\n            throw error;\n        }\n    };\n    \n    const endFieldMedicConnection = async () => {\n        try {\n            // Send end video call command to bridge via backend API\n            const response = await fetch(`${externalConfig.getApiUrl()}/api/video-call/end`, {\n                method: 'POST',\n                headers: {\n                    'Authorization': `Bearer ${userToken}`,\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    roomId: roomId,\n                    surgeonId: user?.id\n                })\n            });\n            \n            if (!response.ok) {\n                throw new Error(`Failed to end video call: ${response.statusText}`);\n            }\n            \n            const result = await response.json();\n            console.log('‚úÖ Video call end request sent:', result);\n            \n            // Reset connection status\n            setConnectionStatus('connected');\n            \n            return result;\n            \n        } catch (error) {\n            console.error('Failed to end field medic connection:', error);\n            throw error;\n        }\n    };\n\n    const handleLocalVideoToggle = () => {\n        setLocalVideoEnabled(!localVideoEnabled);\n    };\n\n    const handleLocalAudioToggle = () => {\n        setLocalAudioEnabled(!localAudioEnabled);\n    };\n\n    const handleSendMessage = (e) => {\n        e.preventDefault();\n        if (newMessage.trim()) {\n            const message = {\n                id: Date.now(),\n                user: user.name,\n                text: newMessage,\n                timestamp: new Date().toISOString()\n            };\n            setChatMessages([...chatMessages, message]);\n            setNewMessage('');\n        }\n    };\n\n    const handleLeaveRoom = () => {\n        if (onLeaveRoom) {\n            onLeaveRoom();\n        }\n    };\n\n    // Loading state\n    if (isLoading) {\n        return (\n            <div className=\"room-video-consultation loading\">\n                <div className=\"loading-spinner\">\n                    <div className=\"spinner\"></div>\n                    <p>Connecting to room...</p>\n                </div>\n            </div>\n        );\n    }\n\n    // Error state\n    if (roomError) {\n        return (\n            <div className=\"room-video-consultation error\">\n                <div className=\"error-container\">\n                    <h2>‚ùå Room Connection Failed</h2>\n                    <p>{roomError}</p>\n                    <div className=\"error-actions\">\n                        <button onClick={initializeRoom} className=\"btn-primary\">\n                            Retry Connection\n                        </button>\n                        <button onClick={handleLeaveRoom} className=\"btn-secondary\">\n                            Leave Room\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"room-video-consultation\">\n            {/* Room Header */}\n            <div className=\"room-header\">\n                <div className=\"room-info\">\n                    <h2>üè• {roomInfo?.type === 'ar-consultation' ? 'AR Surgery Consultation' : 'Video Consultation'}</h2>\n                    <div className=\"room-details\">\n                        <span className=\"room-id\">Room: {roomId}</span>\n                        <span className={`connection-status ${connectionStatus}`}>\n                            {connectionStatus === 'connected' && 'üü¢ Connected'}\n                            {connectionStatus === 'connecting' && 'üü° Connecting'}\n                            {connectionStatus === 'connecting_video' && 'üìπ Connecting to Field Medic'}\n                            {connectionStatus === 'video_active' && 'üé• Live Video Call'}\n                            {connectionStatus === 'error' && 'üî¥ Connection Error'}\n                        </span>\n                    </div>\n                </div>\n                \n                <div className=\"room-controls\">\n                    <button \n                        className={`control-btn ${isVideoCallActive ? 'active' : ''}`}\n                        onClick={handleVideoCallToggle}\n                        title=\"Toggle Video Call\"\n                    >\n                        {isVideoCallActive ? 'üìπ End Call' : 'üìπ Start Video'}\n                    </button>\n                    \n                    <button \n                        className=\"control-btn\"\n                        onClick={() => setShowRoomSettings(!showRoomSettings)}\n                        title=\"Room Settings\"\n                    >\n                        ‚öôÔ∏è\n                    </button>\n                    \n                    <button \n                        className=\"control-btn leave-btn\"\n                        onClick={handleLeaveRoom}\n                        title=\"Leave Room\"\n                    >\n                        üö™ Leave\n                    </button>\n                </div>\n            </div>\n\n            {/* Main Content Area */}\n            <div className=\"room-content\">\n                {/* Video Call Area */}\n                <div className=\"video-area\">\n                    {isVideoCallActive ? (\n                        <ARVideoConsultation\n                            roomId={roomId}\n                            userToken={userToken}\n                            user={user}\n                            userRole={user.role}\n                            onError={(error) => setRoomError(error)}\n                            onConnectionChange={handleConnectionChange}\n                        />\n                    ) : (\n                        <div className=\"video-placeholder\">\n                            <div className=\"placeholder-content\">\n                                <h3>üìπ Video Consultation Ready</h3>\n                                <p>Click \"Start Video\" to begin the AR-enabled video consultation with real-time annotation capabilities.</p>\n                                \n                                <div className=\"pre-call-controls\">\n                                    <button \n                                        className={`control-btn ${localVideoEnabled ? 'enabled' : 'disabled'}`}\n                                        onClick={handleLocalVideoToggle}\n                                    >\n                                        {localVideoEnabled ? 'üìπ Video On' : 'üìπ Video Off'}\n                                    </button>\n                                    \n                                    <button \n                                        className={`control-btn ${localAudioEnabled ? 'enabled' : 'disabled'}`}\n                                        onClick={handleLocalAudioToggle}\n                                    >\n                                        {localAudioEnabled ? 'üé§ Mic On' : 'üé§ Mic Off'}\n                                    </button>\n                                    \n                                    <button \n                                        className=\"control-btn primary start-call-btn\"\n                                        onClick={handleVideoCallToggle}\n                                    >\n                                        üöÄ Start Video Call\n                                    </button>\n                                </div>\n\n                                {/* Room Information */}\n                                {roomInfo && (\n                                    <div className=\"room-metadata\">\n                                        <h4>Room Details</h4>\n                                        <div className=\"metadata-grid\">\n                                            <div className=\"metadata-item\">\n                                                <strong>Type:</strong> {roomInfo.type}\n                                            </div>\n                                            <div className=\"metadata-item\">\n                                                <strong>Created:</strong> {new Date(roomInfo.createdAt).toLocaleString()}\n                                            </div>\n                                            <div className=\"metadata-item\">\n                                                <strong>Participants:</strong> {roomInfo.participantCount || 0}/{roomInfo.maxParticipants || 10}\n                                            </div>\n                                            {roomInfo.metadata?.medicalSpecialty && (\n                                                <div className=\"metadata-item\">\n                                                    <strong>Specialty:</strong> {roomInfo.metadata.medicalSpecialty}\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Sidebar with Chat and Participants */}\n                <div className=\"room-sidebar\">\n                    {/* Participants Panel */}\n                    <div className=\"participants-panel\">\n                        <h4>üë• Participants ({participants.length})</h4>\n                        <div className=\"participants-list\">\n                            <div className=\"participant self\">\n                                <div className=\"participant-avatar\">{user.name.charAt(0)}</div>\n                                <div className=\"participant-info\">\n                                    <span className=\"participant-name\">{user.name} (You)</span>\n                                    <span className=\"participant-role\">{user.role}</span>\n                                </div>\n                                <div className=\"participant-status\">üü¢</div>\n                            </div>\n                            \n                            {participants.map(participant => (\n                                <div key={participant.id} className=\"participant\">\n                                    <div className=\"participant-avatar\">{participant.name.charAt(0)}</div>\n                                    <div className=\"participant-info\">\n                                        <span className=\"participant-name\">{participant.name}</span>\n                                        <span className=\"participant-role\">{participant.role}</span>\n                                    </div>\n                                    <div className=\"participant-status\">\n                                        {participant.connected ? 'üü¢' : 'üî¥'}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Chat Panel */}\n                    <div className=\"chat-panel\">\n                        <h4>üí¨ Room Chat</h4>\n                        <div className=\"chat-messages\">\n                            {chatMessages.map(message => (\n                                <div key={message.id} className=\"chat-message\">\n                                    <div className=\"message-header\">\n                                        <span className=\"message-user\">{message.user}</span>\n                                        <span className=\"message-time\">\n                                            {new Date(message.timestamp).toLocaleTimeString()}\n                                        </span>\n                                    </div>\n                                    <div className=\"message-text\">{message.text}</div>\n                                </div>\n                            ))}\n                        </div>\n                        \n                        <form onSubmit={handleSendMessage} className=\"chat-input-form\">\n                            <input\n                                type=\"text\"\n                                value={newMessage}\n                                onChange={(e) => setNewMessage(e.target.value)}\n                                placeholder=\"Type a message...\"\n                                className=\"chat-input\"\n                            />\n                            <button type=\"submit\" className=\"send-btn\">Send</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n            {/* Room Settings Modal */}\n            {showRoomSettings && (\n                <div className=\"room-settings-modal\">\n                    <div className=\"modal-overlay\" onClick={() => setShowRoomSettings(false)}>\n                        <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\n                            <h3>Room Settings</h3>\n                            <div className=\"settings-section\">\n                                <h4>Audio & Video</h4>\n                                <div className=\"setting-item\">\n                                    <label>\n                                        <input \n                                            type=\"checkbox\" \n                                            checked={localVideoEnabled}\n                                            onChange={handleLocalVideoToggle}\n                                        />\n                                        Enable Video\n                                    </label>\n                                </div>\n                                <div className=\"setting-item\">\n                                    <label>\n                                        <input \n                                            type=\"checkbox\" \n                                            checked={localAudioEnabled}\n                                            onChange={handleLocalAudioToggle}\n                                        />\n                                        Enable Audio\n                                    </label>\n                                </div>\n                            </div>\n                            \n                            <div className=\"settings-actions\">\n                                <button onClick={() => setShowRoomSettings(false)} className=\"btn-secondary\">\n                                    Close\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default RoomVideoConsultation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}