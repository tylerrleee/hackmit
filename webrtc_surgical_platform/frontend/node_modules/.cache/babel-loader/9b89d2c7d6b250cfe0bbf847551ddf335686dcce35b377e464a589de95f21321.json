{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import ARVideoConsultation from'./ARVideoConsultation';import'./RoomVideoConsultation.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RoomVideoConsultation=_ref=>{var _roomInfo$metadata;let{roomId,userToken,user,onLeaveRoom,onError}=_ref;// Room state management\nconst[roomInfo,setRoomInfo]=useState(null);const[isLoading,setIsLoading]=useState(true);const[connectionStatus,setConnectionStatus]=useState('connecting');const[participants,setParticipants]=useState([]);const[roomError,setRoomError]=useState(null);// Video consultation state\nconst[isVideoCallActive,setIsVideoCallActive]=useState(false);const[localVideoEnabled,setLocalVideoEnabled]=useState(true);const[localAudioEnabled,setLocalAudioEnabled]=useState(true);// Room management\nconst[showRoomSettings,setShowRoomSettings]=useState(false);const[chatMessages,setChatMessages]=useState([]);const[newMessage,setNewMessage]=useState('');// Initialize room and fetch room information\nuseEffect(()=>{if(roomId&&userToken){initializeRoom();}},[roomId,userToken]);const initializeRoom=async()=>{try{setIsLoading(true);// Fetch room information from backend\nconst response=await fetch(\"http://localhost:3001/api/rooms/\".concat(roomId),{headers:{'Authorization':\"Bearer \".concat(userToken),'Content-Type':'application/json'}});if(!response.ok){throw new Error(\"Failed to fetch room info: \".concat(response.statusText));}const roomData=await response.json();setRoomInfo(roomData.room);setConnectionStatus('connected');}catch(error){console.error('Failed to initialize room:',error);setRoomError(error.message);setConnectionStatus('error');onError===null||onError===void 0?void 0:onError(error.message);}finally{setIsLoading(false);}};const handleConnectionChange=status=>{setConnectionStatus(status);};const handleVideoCallToggle=()=>{setIsVideoCallActive(!isVideoCallActive);};const handleLocalVideoToggle=()=>{setLocalVideoEnabled(!localVideoEnabled);};const handleLocalAudioToggle=()=>{setLocalAudioEnabled(!localAudioEnabled);};const handleSendMessage=e=>{e.preventDefault();if(newMessage.trim()){const message={id:Date.now(),user:user.name,text:newMessage,timestamp:new Date().toISOString()};setChatMessages([...chatMessages,message]);setNewMessage('');}};const handleLeaveRoom=()=>{if(onLeaveRoom){onLeaveRoom();}};// Loading state\nif(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"room-video-consultation loading\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Connecting to room...\"})]})});}// Error state\nif(roomError){return/*#__PURE__*/_jsx(\"div\",{className:\"room-video-consultation error\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u274C Room Connection Failed\"}),/*#__PURE__*/_jsx(\"p\",{children:roomError}),/*#__PURE__*/_jsxs(\"div\",{className:\"error-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:initializeRoom,className:\"btn-primary\",children:\"Retry Connection\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLeaveRoom,className:\"btn-secondary\",children:\"Leave Room\"})]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"room-video-consultation\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"room-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"room-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uD83C\\uDFE5 \",(roomInfo===null||roomInfo===void 0?void 0:roomInfo.type)==='ar-consultation'?'AR Surgery Consultation':'Video Consultation']}),/*#__PURE__*/_jsxs(\"div\",{className:\"room-details\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"room-id\",children:[\"Room: \",roomId]}),/*#__PURE__*/_jsxs(\"span\",{className:\"connection-status \".concat(connectionStatus),children:[connectionStatus==='connected'&&'üü¢ Connected',connectionStatus==='connecting'&&'üü° Connecting',connectionStatus==='error'&&'üî¥ Connection Error']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"room-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"control-btn \".concat(isVideoCallActive?'active':''),onClick:handleVideoCallToggle,title:\"Toggle Video Call\",children:isVideoCallActive?'üìπ End Call':'üìπ Start Video'}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:()=>setShowRoomSettings(!showRoomSettings),title:\"Room Settings\",children:\"\\u2699\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn leave-btn\",onClick:handleLeaveRoom,title:\"Leave Room\",children:\"\\uD83D\\uDEAA Leave\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"room-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"video-area\",children:isVideoCallActive?/*#__PURE__*/_jsx(ARVideoConsultation,{roomId:roomId,userToken:userToken,userRole:user.role,onError:error=>setRoomError(error),onConnectionChange:handleConnectionChange}):/*#__PURE__*/_jsx(\"div\",{className:\"video-placeholder\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"placeholder-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCF9 Video Consultation Ready\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Click \\\"Start Video\\\" to begin the AR-enabled video consultation with real-time annotation capabilities.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pre-call-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"control-btn \".concat(localVideoEnabled?'enabled':'disabled'),onClick:handleLocalVideoToggle,children:localVideoEnabled?'üìπ Video On':'üìπ Video Off'}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn \".concat(localAudioEnabled?'enabled':'disabled'),onClick:handleLocalAudioToggle,children:localAudioEnabled?'üé§ Mic On':'üé§ Mic Off'}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn primary start-call-btn\",onClick:handleVideoCallToggle,children:\"\\uD83D\\uDE80 Start Video Call\"})]}),roomInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"room-metadata\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Room Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"metadata-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metadata-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type:\"}),\" \",roomInfo.type]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metadata-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Created:\"}),\" \",new Date(roomInfo.createdAt).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metadata-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Participants:\"}),\" \",roomInfo.participantCount||0,\"/\",roomInfo.maxParticipants||10]}),((_roomInfo$metadata=roomInfo.metadata)===null||_roomInfo$metadata===void 0?void 0:_roomInfo$metadata.medicalSpecialty)&&/*#__PURE__*/_jsxs(\"div\",{className:\"metadata-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Specialty:\"}),\" \",roomInfo.metadata.medicalSpecialty]})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"room-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"participants-panel\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uD83D\\uDC65 Participants (\",participants.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"participants-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"participant self\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"participant-avatar\",children:user.name.charAt(0)}),/*#__PURE__*/_jsxs(\"div\",{className:\"participant-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"participant-name\",children:[user.name,\" (You)\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"participant-role\",children:user.role})]}),/*#__PURE__*/_jsx(\"div\",{className:\"participant-status\",children:\"\\uD83D\\uDFE2\"})]}),participants.map(participant=>/*#__PURE__*/_jsxs(\"div\",{className:\"participant\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"participant-avatar\",children:participant.name.charAt(0)}),/*#__PURE__*/_jsxs(\"div\",{className:\"participant-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"participant-name\",children:participant.name}),/*#__PURE__*/_jsx(\"span\",{className:\"participant-role\",children:participant.role})]}),/*#__PURE__*/_jsx(\"div\",{className:\"participant-status\",children:participant.connected?'üü¢':'üî¥'})]},participant.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-panel\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCAC Room Chat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-messages\",children:chatMessages.map(message=>/*#__PURE__*/_jsxs(\"div\",{className:\"chat-message\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"message-user\",children:message.user}),/*#__PURE__*/_jsx(\"span\",{className:\"message-time\",children:new Date(message.timestamp).toLocaleTimeString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:message.text})]},message.id))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSendMessage,className:\"chat-input-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Type a message...\",className:\"chat-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"send-btn\",children:\"Send\"})]})]})]})]}),showRoomSettings&&/*#__PURE__*/_jsx(\"div\",{className:\"room-settings-modal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowRoomSettings(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Room Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Audio & Video\"}),/*#__PURE__*/_jsx(\"div\",{className:\"setting-item\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:localVideoEnabled,onChange:handleLocalVideoToggle}),\"Enable Video\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"setting-item\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:localAudioEnabled,onChange:handleLocalAudioToggle}),\"Enable Audio\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"settings-actions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowRoomSettings(false),className:\"btn-secondary\",children:\"Close\"})})]})})})]});};export default RoomVideoConsultation;","map":{"version":3,"names":["React","useState","useEffect","useRef","ARVideoConsultation","jsx","_jsx","jsxs","_jsxs","RoomVideoConsultation","_ref","_roomInfo$metadata","roomId","userToken","user","onLeaveRoom","onError","roomInfo","setRoomInfo","isLoading","setIsLoading","connectionStatus","setConnectionStatus","participants","setParticipants","roomError","setRoomError","isVideoCallActive","setIsVideoCallActive","localVideoEnabled","setLocalVideoEnabled","localAudioEnabled","setLocalAudioEnabled","showRoomSettings","setShowRoomSettings","chatMessages","setChatMessages","newMessage","setNewMessage","initializeRoom","response","fetch","concat","headers","ok","Error","statusText","roomData","json","room","error","console","message","handleConnectionChange","status","handleVideoCallToggle","handleLocalVideoToggle","handleLocalAudioToggle","handleSendMessage","e","preventDefault","trim","id","Date","now","name","text","timestamp","toISOString","handleLeaveRoom","className","children","onClick","type","title","userRole","role","onConnectionChange","createdAt","toLocaleString","participantCount","maxParticipants","metadata","medicalSpecialty","length","charAt","map","participant","connected","toLocaleTimeString","onSubmit","value","onChange","target","placeholder","stopPropagation","checked"],"sources":["/Users/tienle/Documents/Coding/hackmit/webrtc_surgical_platform/frontend/src/components/RoomVideoConsultation.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport ARVideoConsultation from './ARVideoConsultation';\nimport './RoomVideoConsultation.css';\n\nconst RoomVideoConsultation = ({ \n    roomId, \n    userToken, \n    user,\n    onLeaveRoom,\n    onError \n}) => {\n    // Room state management\n    const [roomInfo, setRoomInfo] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [connectionStatus, setConnectionStatus] = useState('connecting');\n    const [participants, setParticipants] = useState([]);\n    const [roomError, setRoomError] = useState(null);\n    \n    // Video consultation state\n    const [isVideoCallActive, setIsVideoCallActive] = useState(false);\n    const [localVideoEnabled, setLocalVideoEnabled] = useState(true);\n    const [localAudioEnabled, setLocalAudioEnabled] = useState(true);\n    \n    // Room management\n    const [showRoomSettings, setShowRoomSettings] = useState(false);\n    const [chatMessages, setChatMessages] = useState([]);\n    const [newMessage, setNewMessage] = useState('');\n\n    // Initialize room and fetch room information\n    useEffect(() => {\n        if (roomId && userToken) {\n            initializeRoom();\n        }\n    }, [roomId, userToken]);\n\n    const initializeRoom = async () => {\n        try {\n            setIsLoading(true);\n            \n            // Fetch room information from backend\n            const response = await fetch(`http://localhost:3001/api/rooms/${roomId}`, {\n                headers: {\n                    'Authorization': `Bearer ${userToken}`,\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to fetch room info: ${response.statusText}`);\n            }\n\n            const roomData = await response.json();\n            setRoomInfo(roomData.room);\n            setConnectionStatus('connected');\n            \n        } catch (error) {\n            console.error('Failed to initialize room:', error);\n            setRoomError(error.message);\n            setConnectionStatus('error');\n            onError?.(error.message);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const handleConnectionChange = (status) => {\n        setConnectionStatus(status);\n    };\n\n    const handleVideoCallToggle = () => {\n        setIsVideoCallActive(!isVideoCallActive);\n    };\n\n    const handleLocalVideoToggle = () => {\n        setLocalVideoEnabled(!localVideoEnabled);\n    };\n\n    const handleLocalAudioToggle = () => {\n        setLocalAudioEnabled(!localAudioEnabled);\n    };\n\n    const handleSendMessage = (e) => {\n        e.preventDefault();\n        if (newMessage.trim()) {\n            const message = {\n                id: Date.now(),\n                user: user.name,\n                text: newMessage,\n                timestamp: new Date().toISOString()\n            };\n            setChatMessages([...chatMessages, message]);\n            setNewMessage('');\n        }\n    };\n\n    const handleLeaveRoom = () => {\n        if (onLeaveRoom) {\n            onLeaveRoom();\n        }\n    };\n\n    // Loading state\n    if (isLoading) {\n        return (\n            <div className=\"room-video-consultation loading\">\n                <div className=\"loading-spinner\">\n                    <div className=\"spinner\"></div>\n                    <p>Connecting to room...</p>\n                </div>\n            </div>\n        );\n    }\n\n    // Error state\n    if (roomError) {\n        return (\n            <div className=\"room-video-consultation error\">\n                <div className=\"error-container\">\n                    <h2>‚ùå Room Connection Failed</h2>\n                    <p>{roomError}</p>\n                    <div className=\"error-actions\">\n                        <button onClick={initializeRoom} className=\"btn-primary\">\n                            Retry Connection\n                        </button>\n                        <button onClick={handleLeaveRoom} className=\"btn-secondary\">\n                            Leave Room\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"room-video-consultation\">\n            {/* Room Header */}\n            <div className=\"room-header\">\n                <div className=\"room-info\">\n                    <h2>üè• {roomInfo?.type === 'ar-consultation' ? 'AR Surgery Consultation' : 'Video Consultation'}</h2>\n                    <div className=\"room-details\">\n                        <span className=\"room-id\">Room: {roomId}</span>\n                        <span className={`connection-status ${connectionStatus}`}>\n                            {connectionStatus === 'connected' && 'üü¢ Connected'}\n                            {connectionStatus === 'connecting' && 'üü° Connecting'}\n                            {connectionStatus === 'error' && 'üî¥ Connection Error'}\n                        </span>\n                    </div>\n                </div>\n                \n                <div className=\"room-controls\">\n                    <button \n                        className={`control-btn ${isVideoCallActive ? 'active' : ''}`}\n                        onClick={handleVideoCallToggle}\n                        title=\"Toggle Video Call\"\n                    >\n                        {isVideoCallActive ? 'üìπ End Call' : 'üìπ Start Video'}\n                    </button>\n                    \n                    <button \n                        className=\"control-btn\"\n                        onClick={() => setShowRoomSettings(!showRoomSettings)}\n                        title=\"Room Settings\"\n                    >\n                        ‚öôÔ∏è\n                    </button>\n                    \n                    <button \n                        className=\"control-btn leave-btn\"\n                        onClick={handleLeaveRoom}\n                        title=\"Leave Room\"\n                    >\n                        üö™ Leave\n                    </button>\n                </div>\n            </div>\n\n            {/* Main Content Area */}\n            <div className=\"room-content\">\n                {/* Video Call Area */}\n                <div className=\"video-area\">\n                    {isVideoCallActive ? (\n                        <ARVideoConsultation\n                            roomId={roomId}\n                            userToken={userToken}\n                            userRole={user.role}\n                            onError={(error) => setRoomError(error)}\n                            onConnectionChange={handleConnectionChange}\n                        />\n                    ) : (\n                        <div className=\"video-placeholder\">\n                            <div className=\"placeholder-content\">\n                                <h3>üìπ Video Consultation Ready</h3>\n                                <p>Click \"Start Video\" to begin the AR-enabled video consultation with real-time annotation capabilities.</p>\n                                \n                                <div className=\"pre-call-controls\">\n                                    <button \n                                        className={`control-btn ${localVideoEnabled ? 'enabled' : 'disabled'}`}\n                                        onClick={handleLocalVideoToggle}\n                                    >\n                                        {localVideoEnabled ? 'üìπ Video On' : 'üìπ Video Off'}\n                                    </button>\n                                    \n                                    <button \n                                        className={`control-btn ${localAudioEnabled ? 'enabled' : 'disabled'}`}\n                                        onClick={handleLocalAudioToggle}\n                                    >\n                                        {localAudioEnabled ? 'üé§ Mic On' : 'üé§ Mic Off'}\n                                    </button>\n                                    \n                                    <button \n                                        className=\"control-btn primary start-call-btn\"\n                                        onClick={handleVideoCallToggle}\n                                    >\n                                        üöÄ Start Video Call\n                                    </button>\n                                </div>\n\n                                {/* Room Information */}\n                                {roomInfo && (\n                                    <div className=\"room-metadata\">\n                                        <h4>Room Details</h4>\n                                        <div className=\"metadata-grid\">\n                                            <div className=\"metadata-item\">\n                                                <strong>Type:</strong> {roomInfo.type}\n                                            </div>\n                                            <div className=\"metadata-item\">\n                                                <strong>Created:</strong> {new Date(roomInfo.createdAt).toLocaleString()}\n                                            </div>\n                                            <div className=\"metadata-item\">\n                                                <strong>Participants:</strong> {roomInfo.participantCount || 0}/{roomInfo.maxParticipants || 10}\n                                            </div>\n                                            {roomInfo.metadata?.medicalSpecialty && (\n                                                <div className=\"metadata-item\">\n                                                    <strong>Specialty:</strong> {roomInfo.metadata.medicalSpecialty}\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Sidebar with Chat and Participants */}\n                <div className=\"room-sidebar\">\n                    {/* Participants Panel */}\n                    <div className=\"participants-panel\">\n                        <h4>üë• Participants ({participants.length})</h4>\n                        <div className=\"participants-list\">\n                            <div className=\"participant self\">\n                                <div className=\"participant-avatar\">{user.name.charAt(0)}</div>\n                                <div className=\"participant-info\">\n                                    <span className=\"participant-name\">{user.name} (You)</span>\n                                    <span className=\"participant-role\">{user.role}</span>\n                                </div>\n                                <div className=\"participant-status\">üü¢</div>\n                            </div>\n                            \n                            {participants.map(participant => (\n                                <div key={participant.id} className=\"participant\">\n                                    <div className=\"participant-avatar\">{participant.name.charAt(0)}</div>\n                                    <div className=\"participant-info\">\n                                        <span className=\"participant-name\">{participant.name}</span>\n                                        <span className=\"participant-role\">{participant.role}</span>\n                                    </div>\n                                    <div className=\"participant-status\">\n                                        {participant.connected ? 'üü¢' : 'üî¥'}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Chat Panel */}\n                    <div className=\"chat-panel\">\n                        <h4>üí¨ Room Chat</h4>\n                        <div className=\"chat-messages\">\n                            {chatMessages.map(message => (\n                                <div key={message.id} className=\"chat-message\">\n                                    <div className=\"message-header\">\n                                        <span className=\"message-user\">{message.user}</span>\n                                        <span className=\"message-time\">\n                                            {new Date(message.timestamp).toLocaleTimeString()}\n                                        </span>\n                                    </div>\n                                    <div className=\"message-text\">{message.text}</div>\n                                </div>\n                            ))}\n                        </div>\n                        \n                        <form onSubmit={handleSendMessage} className=\"chat-input-form\">\n                            <input\n                                type=\"text\"\n                                value={newMessage}\n                                onChange={(e) => setNewMessage(e.target.value)}\n                                placeholder=\"Type a message...\"\n                                className=\"chat-input\"\n                            />\n                            <button type=\"submit\" className=\"send-btn\">Send</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n            {/* Room Settings Modal */}\n            {showRoomSettings && (\n                <div className=\"room-settings-modal\">\n                    <div className=\"modal-overlay\" onClick={() => setShowRoomSettings(false)}>\n                        <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\n                            <h3>Room Settings</h3>\n                            <div className=\"settings-section\">\n                                <h4>Audio & Video</h4>\n                                <div className=\"setting-item\">\n                                    <label>\n                                        <input \n                                            type=\"checkbox\" \n                                            checked={localVideoEnabled}\n                                            onChange={handleLocalVideoToggle}\n                                        />\n                                        Enable Video\n                                    </label>\n                                </div>\n                                <div className=\"setting-item\">\n                                    <label>\n                                        <input \n                                            type=\"checkbox\" \n                                            checked={localAudioEnabled}\n                                            onChange={handleLocalAudioToggle}\n                                        />\n                                        Enable Audio\n                                    </label>\n                                </div>\n                            </div>\n                            \n                            <div className=\"settings-actions\">\n                                <button onClick={() => setShowRoomSettings(false)} className=\"btn-secondary\">\n                                    Close\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default RoomVideoConsultation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}