# External/Multi-Location Configuration
# This file configures the system for external access via Ngrok tunnels

# Mode Configuration
NODE_ENV=external
EXTERNAL_MODE=true

# Server Configuration - will be updated by Ngrok setup script
PORT=3001
API_BASE_URL=https://ngrok-backend-url.ngrok-free.app
BACKEND_EXTERNAL_URL=https://ngrok-backend-url.ngrok-free.app

# Frontend Configuration 
FRONTEND_EXTERNAL_URL=https://ngrok-frontend-url.ngrok-free.app

# WebRTC Bridge Configuration
AR_BRIDGE_URL=wss://ngrok-bridge-url.ngrok-free.app
AR_BRIDGE_HTTP_URL=https://ngrok-bridge-http-url.ngrok-free.app
BRIDGE_EXTERNAL_PORT=8765
BRIDGE_HTTP_EXTERNAL_PORT=8766

# Database (can remain local or be external)
MONGODB_URI=mongodb://localhost:27017/surgical_platform
REDIS_URL=redis://localhost:6379

# Authentication (same as local)
JWT_SECRET=surgical-platform-jwt-secret-2024-external-key
JWT_EXPIRY=24h
BCRYPT_ROUNDS=12

# WebRTC Configuration (external STUN/TURN servers)
STUN_SERVER=stun:stun.l.google.com:19302
TURN_SERVER=turn:numb.viagenie.ca:3478
TURN_USERNAME=webrtc@live.com
TURN_CREDENTIAL=muazkh

# AI Services (same settings)
TENSORFLOW_MODEL_PATH=./models/
AI_PROCESSING_TIMEOUT=30000
MAX_CONCURRENT_AI_JOBS=5

# Security (more permissive for external access)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
SESSION_SECRET=external-session-secret-change-this
CORS_ORIGIN=https://ngrok-frontend-url.ngrok-free.app

# Ngrok Configuration
NGROK_AUTH_TOKEN=your_ngrok_auth_token_here
NGROK_REGION=us
NGROK_BIND_TLS=true

# Logging (enhanced for external mode)
LOG_LEVEL=info
LOG_FILE_PATH=./logs/
LOG_EXTERNAL_CONNECTIONS=true

# Medical Compliance
HIPAA_AUDIT_ENABLED=true
DATA_RETENTION_DAYS=2555
ENCRYPTION_KEY=your-32-byte-encryption-key-external

# External Access Settings
EXTERNAL_TIMEOUT=60000
CONNECTION_RETRY_ATTEMPTS=3
HEARTBEAT_INTERVAL=30000

# Store and Forward (same settings)
S3_BUCKET_NAME=surgical-platform-storage
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1